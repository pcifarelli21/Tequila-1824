const puppeteer = require('puppeteer')

async function scrapeProduct(url){
    const browser = await puppeteer.launch();
    const page = await browser.newPage();
    await page.goto(url);

    const titles = await page.$$eval('address h5', titles => titles.map(t => t.textContent));
    const addresses = await page.$$eval('address p', addresses => addresses.map(a => a.innerHTML));
    const fullAddresses = addresses.map(function(x){return x.replace(/<br>/g, ' ').trim();});
    let locations = [];
    titles.forEach((t, i) =>  locations.push({"name" : t,"address": fullAddresses[i]}));
    console.log({locations})

    browser.close();
}

scrapeProduct('http://tequila1824.com/tequila-en.html#l6')

// NOTE: saved laction info for testing
// const titles = [
//     'Longhorn liquor',
//     'Don’s Liquor Store',
//     'Santa Catarinas ',
//     'Los Chilaquiles Mexican Bar & Grill',
//     'The Post Tavern ',
//     'Bluecorn Harvest  Cedar Park',
//     'Maggiories',
//     'Jardin Corona',
//     'Spotlight Karaoke Bar',
//     'TopSpin',
//     'Avery Ranch Wine and Spirits ',
//     'Johnnie’s Liquor Store ',
//     'Northwest Hills Liquor',
//     'Travis Heights Beverage World ',
//     'Queens Liquor',
//     'Twin Liquors',
//     'ABC Liquor',
//     '34 Wine and Spirits',
//     'Westwoods Liquor',
//     'Debs Liquor #3',
//     'King Liquor',
//     'Steiner Ranch Liquor',
//     'Debs Liquor Store',
//     'Brick House Tavern + Tap',
//     'Cielo Bistro Mexico',
//     "Sam's Boat",
//     'Flores Mexican Restaurant',
//     'El Dorado Cafe',
//     'Bone Daddy’s',
//     'Casa Chapala',
//     'The Park at the Domain',
//     'Hudson’s On The Bend',
//     'Flores Mexican Restaurant',
//     'Flores Mexican Restaurant',
//     'Ramos Tex- Mex Restaurant #3',
//     'Jardin Corona',
//     'Vaqueros',
//     'Steiner Ranch Steakhouse',
//     'BigShotz Neighborhood Bar',
//     'Pinballz Lake Creek',
//     'The Common Interest Karaoke Bar',
//     "Little Woodrow's",
//     'Speakeasy',
//     'BT2',
//     'Bottle Shop',
//     'La Playa Mexican Restaurant',
//     'Liquid Town',
//     'The Nest',
//     'The Frat House',
//     'Connect Patio Bar and Ultra Lounge',
//     'Jigger wine and liquor store  ',
//     'El Jalisiense Mexican Restaurant',
//     'Discount Liquor',
//     'Brays Smokehouse ',
//     'Nucky’s Cocktail Bar',
//     'Squirrely’s liquor',
//     'Woody’s Whiskey & Wine',
//     'ABC liquor',
//     'Cold Springs Liquor',
//     'Specs',
//     'My Choice Liquor',
//     'AnB Liquor',
//     'Everest Liquor ',
//     'Cocos Lounge',
//     'The goal post bar',
//     'Tres Borrachos',
//     'Finleys',
//     'Morelia Mexican Grill',
//     'NIxtamal Tacos and Drinks',
//     'Tequila Bar & Grill',
//     'Mas Fajitas',
//     'Santa Catarinas',
//     'Austin Park N Pizza',
//     'Morelia Mexican Grill ',
//     'Casa Arandinas',
//     'Space Liquor',
//     'Bluecorn Harvest Georgetown',
//     'Mariachis De Jalisco',
//     'Mas Fajitas',
//     "BB's Home Cooking ",
//     'Flores Mexican Restaurant ',
//     'Guadalajara Mexican Restaurant',
//     'Casa Chapala ',
//     'Twin Liquors',
//     'Morelia Mexican Grill',
//     "Clint's Liquor #3",
//     'Morelia Mexican Grill ',
//     'Mariachis De Jalisco #3',
//     'Mas Fajitas',
//     'Sol De Jalisco ',
//     'Sol De Jalisco Mexican ',
//     'Mas Fajitas',
//     'Mas Fajitas',
//     'Uptown Liquor',
//     'Jardin Corona '
//   ]
// const addresses= [
//     '109 Cypress Creek Rd. Suite b-4<br>Cedar Park, TX 78613<br>512-351-8052',
//     '100 E Whitestone <br>Blvd #100<br>Cedar Park, TX 78613<br>(512) 259-4323',
//     '500 Cypress Creek Road #170<br>Cedar Park, TX 78613<br>(737) 300-2296',
//     '200 S Bell Blvd<br>Cedar Park, TX 78613<br>512-344-9389',
//     '601 W. Whitestone Blvd.<br>Cedar Park, TX 78613<br>512-258-2434',
//     '700 E Whitestone Blvd<br>Cedar Park, TX 78613<br>(512) 528-0889',
//     '1420 Cypress Creek Rd. #1000<br>Cedar Park, TX 78613<br>512-291-6067',
//     '600 S Bell Blvd.<br>Cedar Park, TX 78613<br>512-996-9343',
//     '601 E Whitestone Blvd #600<br>Cedar Park, TX 78613<br>(512) 259-3838',
//     '1851 S Lakeline Blvd.<br>Cedar Park, TX 78613<br>512-258-3388',
//     '10510 West Parmer Lane suite 118 <br>Austin, TX 78717<br>512-341-0166',
//     '3201 Pond Springs Rd,<br>Austin, TX 78729<br>512-383-5004',
//     '3563 Far West Blvd #100 <br>Austin, TX 78731<br>512-349-2828 ',
//     '1948 S IH 35 Frontage Rd <br>Austin, TX 78704<br>512-440-7778 ',
//     '12518 Research Blvd #H <br>Austin, TX 78759<br>512-335-4200 ',
//     '13497 Research Blvd #17 <br>Austin, TX 78750<br>512-219-8207',
//     '2121 W. Parmer Ln #105A, <br>Austin, TX 78727<br>512-836-8790',
//     '4601 Southwest Pkwy #100 <br>Austin, TX 78735<br>512-584-8656',
//     '3201 Bee Caves Rd. #130 <br>Austin, TX 78746<br>512-327-7920',
//     '10740 Research Blvd. #135 <br>Austin, TX 78759<br>512-343-8704',
//     '5310 Burnet Rd, <br>Austin, TX 78759<br>512-419-1999',
//     ' 5145 Ranch Rd. 620 N,<br>Austin, TX 78732<br>512-266-0234',
//     '13770 US-183 #137,<br>Austin, TX 78750<br>512-331-4731',
//     '11680A Research Blvd<br>Austin, TX 78759<br>(512) 343-2000',
//     '7032 Wood HollowDr.<br>Austin, TX 78613<br>512-599-4558',
//     '10931 Stonelake Blvd<br>Austin, TX 78759<br>512-502-0404',
//     ' 8300 N FM 620<br>Austin, TX 78726<br>512-996-9636',
//     '3300 W Anderson Ln #303<br>Austin, TX 78757<br>(512) 420-2222',
//     '11617 Research Blvd<br>Austin, TX 78759<br>512-346-3025',
//     '9041 Research Blvd. #100<br>Austin, TX 78758b<br>512-459-4242',
//     '11601 Domain Dr. #200<br>Austin, TX 78758<br>',
//     '3509 Ranch Rd 620 N<br>Austin, TX 78734<br>',
//     '4625 W. William Cannon Dr. <br>Austin, TX 78749<br>(512) 334-9973',
//     '2127 Lohmans Crossing Rd,<br>Austin, TX 78734<br>512-263-9546',
//     '14611 N Mopac Expy #103<br>Austin, TX 78728<br>(512) 246-0727',
//     '13233 Pond Springs Rd #301<br>Austin, TX 78729<br>512-250-1061',
//     '1801 S Capital of Texas Hwy<br>Austin, TX 78746<br>512-382-7899',
//     '5424 Steiner Ranch Blvd, <br>Austin, TX 78732<br>(512) 381-0800',
//     '399 W Louis Henna Blvd<br>Austin, TX 78728<br>(512) 388-5050                                                                    ',
//     '13729 Research Blvd<br>Austin, TX 78750<br>512-537-8737',
//     '8440 Burnet Rd.<br>Austin, TX 78757<br>512-453-6796',
//     '6301 W Parmer Ln, <br>Austin, TX 78729<br>',
//     '412 Congress Ave. #D<br>Austin,Texas 78701<br>(512) 476-8017',
//     '6607 N interstate Hwy 35 <br>Austin, TX 78752<br>512-419-9192',
//     '7109 S. Staples St.<br>Corpus Christi, TX 78413<br>361-993-2583',
//     '4201 S Padre Island Dr,<br>Corpus Christi, TX 78411<br>361-853-4282',
//     '4141 S Alameda St,<br>Corpus Christi, TX 78411<br>361-854-1030',
//     '6534 Yorktown Blvd<br>Corpus Christi, TX 78414<br>(361) 510-1080',
//     '526 S Staples St<br>Corpus Christi, TX 78401',
//     '512 S. Staples St. <br>Corpus Christi, TX 78401<br>(361) 299-0080',
//     '115 N. Texas Blvd.<br>Alice, TX 783327<br>361-664-4611',
//     '1915 E Main St,<br>Alice, TX 78332<br>361-661-0911',
//     '626 N 14th St<br>Kingsville, TX 78363<br>361-592-6333',
//     '1500 S. Brahma Blvd,<br>Kingsville, TX 78363<br>361-221-1100',
//     '1601 US-77,<br>Kingsville, TX 78363<br>361-221-2313                                                                   ',
//     '1701 Brahma Blvd,<br>Kingsville, TX 78363<br>361-595-1818',
//     '206 W. Orange Ave.<br>Orange Grove, TX 78372<br>361-490-4025',
//     '3421 Lakeline Blvd.<br>Leander, TX 78641<br>512 260-2222',
//     '15609 Ronald Reagan Blvd Ste B-100<br>Leander, TX 78641<br>512-986-7230',
//     '201 University Oaks Blvd #600.<br>Round Rock, TX 78664<br>512-341-9066',
//     '1601 Insterstate 35 Frontage Rd. Ste 390<br>Round Rock, TX 78664<br>512-388-2661',
//     '602 Mc Neil Road Suite 120<br>Round Rock, Texas 78681<br>(512) 305-3663',
//     '1900 University Blvd suite 140<br>Round Rock, TX 78665<br>(512) 843-4311',
//     '105 S Mays St.<br>Round Rock, TX 78664<br>512-341-9337',
//     '1829 N Mays St.<br>Round Rock, TX 78664<br>512-255-8968',
//     '1300 Gattis School Rd. #200 .<br>Round Rock, TX 78664<br>512-531-9003',
//     '410 W Main St.<br>Round Rock, TX 78664<br>737-202-4413',
//     '2400 N Interstate 35 Frontage Rd #160,<br>Round Rock, TX 78681<br>512-255-0511',
//     '118 E Main St,<br>Round Rock, TX 78664<br>512-670-3463',
//     '1151 University Blvd.<br>Round Rock,Texas 78665<br>(512)388-3400',
//     '1700 E. Palm Valley Blvd.<br>Round Rock, TX 78664<br>(512) 716-1332',
//     '1310 Ranch Rd 620 S.<br>Lakeway, TX 78734<br>512-300-0946',
//     '16231 N Interstate 35 frontage Rd<br>Pflugerville, TX 78660<br>512 670-9600',
//     '18900 Limestone Commercial Dr #100<br>Pflugerville, TX 78660<br>512-670-3463',
//     '1700 Grand Ave. Pkwy #180<br>Pflugerville, TX 78660<br>(512) 520-9935',
//     '30713 Chi Chi Drive<br>Georgetown, Texas 78626',
//     '212 W 7th St #105<br>Georgetown, TX 78626<br>(512) 819-6018',
//     '2803 Williams Dr. #110<br>Georgetown, TX 78626<br>(512) 868-5622',
//     '3010 Williams Drive #102<br>Georgetown, TX 78626<br>(512) 868-0003',
//     '1500 Rivery Blvd #2105<br>Georgetown, TX 78626',
//     '2440 E Hwy 290<br>Dripping Springs, TX 78620<br>512-858-2221',
//     '494 HWY 71W STE #180,<br>Bastrop, TX 78602<br>512-321-3002',
//     '1800 Walnut St,<br>Bastrop, TX 78602<br>512-985-5788',
//     '1439 TX-71 #18,<br>Bastrop, TX 78602<br>512-581-7611',
//     '696 Hwy 71 West Building #1,<br>Bastrop, TX 78602<br>512-985-5870',
//     '195 S. Hasler Blvd. #A<br>Bastrop, TX 78602<br>(512) 321-3487',
//     '608 W Alamo St,<br>Elgin, TX 78621<br>512-285-3550',
//     '3100 N. Main St.<br>Taylor, Texas 76574<br>(512) 352-1700',
//     '2600 W. 2nd Street<br>Taylor, Texas 76574<br>(512) 352-9292',
//     '8774 West Adams Ave. <br>Temple, Texas 76502<br>(254) 780-2639',
//     '4201 S General Bruce Dr. <br>Temple, Texas 76502<br>(254)-771-1929',
//     '1908 E. Central Texas Expy. #B<br>Killeen, Texas 76541<br>(254) 699-0006',
//     'Coming soon!<br>College Station, Texas',
//     '14365 West State Highway 29,<br>Liberty Hill, TX 78642<br>512-548-5058',
//     '15395 West W State Hwy 29<br>Liberty Hill, TX 78642<br>512-778-6770'
//   ]

